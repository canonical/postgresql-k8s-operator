{"uid":"3d5690a3d15f41bc","name":"test_async_replication_failover_in_main_cluster","fullName":"tests.integration.ha_tests.test_async_replication#test_async_replication_failover_in_main_cluster","historyId":"0d36e96afab568171b86ef8e12ac0c4f","time":{"start":1747619510780,"stop":1747619633780,"duration":123000},"description":"Test that async replication fails over correctly.","descriptionHtml":"<p>Test that async replication fails over correctly.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1747618240726,"stop":1747618240726,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1747618240726,"stop":1747618240727,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1747618240727,"stop":1747618240930,"duration":203},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1747618240930,"stop":1747618240930,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1747618240931,"stop":1747618241566,"duration":635},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1747619510779,"stop":1747619510779,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1747619510779,"stop":1747619510779,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test that async replication fails over correctly.","status":"passed","steps":[],"attachments":[{"uid":"a585a4b52771a65f","name":"log","source":"a585a4b52771a65f.txt","type":"text/plain","size":4392}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1747619633781,"stop":1747619635816,"duration":2035},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1747619635816,"stop":1747619635816,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::finalizer","time":{"start":1747620303938,"stop":1747620303952,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1747620303953,"stop":1747620305020,"duration":1067},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1747620305021,"stop":1747620305021,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1747620305021,"stop":1747620305021,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1747620305021,"stop":1747620305021,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires juju 3')"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_async_replication"},{"name":"host","value":"fv-az1695-679"},{"name":"thread","value":"19769-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_async_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"e6b945139216f2b1","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":6,"broken":0,"skipped":7,"passed":318,"unknown":7,"total":338},"items":[{"uid":"aac7472f014b84b","reportUrl":"../4056//#testresult/aac7472f014b84b","status":"passed","time":{"start":1747533248752,"stop":1747533379609,"duration":130857}},{"uid":"68d4003d44af851","reportUrl":"../4055//#testresult/68d4003d44af851","status":"passed","time":{"start":1747446828161,"stop":1747446956514,"duration":128353}},{"uid":"56790abf92a6f0d1","reportUrl":"../4054//#testresult/56790abf92a6f0d1","status":"passed","time":{"start":1747360550508,"stop":1747360704346,"duration":153838}},{"uid":"3380014a853d2750","reportUrl":"../4053//#testresult/3380014a853d2750","status":"passed","time":{"start":1747274291918,"stop":1747274419265,"duration":127347}},{"uid":"d8190644eda3c0d2","reportUrl":"../4052//#testresult/d8190644eda3c0d2","status":"failed","statusDetails":"AssertionError: testing-other.postgresql-k8s-0: writes to the db were missed.","time":{"start":1747187777026,"stop":1747187951460,"duration":174434}},{"uid":"5a9433b9c1eb5e64","reportUrl":"../4047//#testresult/5a9433b9c1eb5e64","status":"passed","time":{"start":1747101445123,"stop":1747101573888,"duration":128765}},{"uid":"b933bd8f34ef35f9","reportUrl":"../4046//#testresult/b933bd8f34ef35f9","status":"passed","time":{"start":1747014922696,"stop":1747015022585,"duration":99889}},{"uid":"895e4069a35f348e","reportUrl":"../4045//#testresult/895e4069a35f348e","status":"passed","time":{"start":1746928434928,"stop":1746928564048,"duration":129120}},{"uid":"748fabad12632393","reportUrl":"../4044//#testresult/748fabad12632393","status":"passed","time":{"start":1746841974559,"stop":1746842087671,"duration":113112}},{"uid":"e63e57a6e053933b","reportUrl":"../4043//#testresult/e63e57a6e053933b","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-k8s-1' != 'postgresql-k8s-1'","time":{"start":1746755614687,"stop":1746755811601,"duration":196914}},{"uid":"a9d5c1fa82bf8218","reportUrl":"../4040//#testresult/a9d5c1fa82bf8218","status":"passed","time":{"start":1746669759695,"stop":1746669906441,"duration":146746}},{"uid":"5fa3ec41c4c3c87d","reportUrl":"../4030//#testresult/5fa3ec41c4c3c87d","status":"passed","time":{"start":1746582633947,"stop":1746582741408,"duration":107461}},{"uid":"f06c2f55785891b8","reportUrl":"../4009//#testresult/f06c2f55785891b8","status":"passed","time":{"start":1746496589746,"stop":1746496701825,"duration":112079}},{"uid":"68744e2d68de3f94","reportUrl":"../4004//#testresult/68744e2d68de3f94","status":"passed","time":{"start":1746409851288,"stop":1746409961940,"duration":110652}},{"uid":"7203e37ce334093a","reportUrl":"../4000//#testresult/7203e37ce334093a","status":"passed","time":{"start":1746323543233,"stop":1746323661813,"duration":118580}},{"uid":"26c548b5bb166397","reportUrl":"../3999//#testresult/26c548b5bb166397","status":"passed","time":{"start":1746237147999,"stop":1746237260729,"duration":112730}},{"uid":"345333787880f8af","reportUrl":"../3995//#testresult/345333787880f8af","status":"passed","time":{"start":1746150604680,"stop":1746150723770,"duration":119090}},{"uid":"1c87e5eb828d5200","reportUrl":"../3994//#testresult/1c87e5eb828d5200","status":"passed","time":{"start":1746064371009,"stop":1746064490888,"duration":119879}},{"uid":"7059ea7eeb8caf08","reportUrl":"../3986//#testresult/7059ea7eeb8caf08","status":"passed","time":{"start":1745977815898,"stop":1745977932711,"duration":116813}},{"uid":"3b2f05eff3c5a6f7","reportUrl":"../3976//#testresult/3b2f05eff3c5a6f7","status":"passed","time":{"start":1745805181219,"stop":1745805300291,"duration":119072}}]},"tags":["asyncio","abort_on_fail","@pytest.mark.skipif(False, reason='Requires juju 3')"]},"source":"3d5690a3d15f41bc.json","parameterValues":[]}