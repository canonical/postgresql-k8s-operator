{"uid":"795971ef6bbdbe0a","name":"test_deploy","fullName":"tests.integration.test_username_prefix#test_deploy","historyId":"1d25cf81861f2093a5b087eb89708bf9","time":{"start":1772242257478,"stop":1772242365667,"duration":108189},"description":"Deploy the charms.","descriptionHtml":"<p>Deploy the charms.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"charm","time":{"start":1772242257477,"stop":1772242257477,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju","time":{"start":1772242257477,"stop":1772242257477,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1772242257477,"stop":1772242257477,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Deploy the charms.","status":"passed","steps":[],"attachments":[{"uid":"95358103d2b8f47b","name":"log","source":"95358103d2b8f47b.txt","type":"text/plain","size":43820}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1772242365668,"stop":1772242365668,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::0","time":{"start":1772242513670,"stop":1772242513670,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_username_prefix"},{"name":"host","value":"runnervmnay03"},{"name":"thread","value":"17569-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_username_prefix"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"36cf130ac72e18c1","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":3,"skipped":0,"passed":41,"unknown":0,"total":44},"items":[{"uid":"dd1868eee2f58e9f","reportUrl":"../5351//#testresult/dd1868eee2f58e9f","status":"passed","time":{"start":1772155865051,"stop":1772156039473,"duration":174422}},{"uid":"be748057a46a8df","reportUrl":"../5346//#testresult/be748057a46a8df","status":"passed","time":{"start":1772069524687,"stop":1772069631320,"duration":106633}},{"uid":"dfddbe2af2dfc092","reportUrl":"../5340//#testresult/dfddbe2af2dfc092","status":"passed","time":{"start":1771983108619,"stop":1771983215259,"duration":106640}},{"uid":"e90b414198beba48","reportUrl":"../5317//#testresult/e90b414198beba48","status":"passed","time":{"start":1771896697854,"stop":1771896884218,"duration":186364}},{"uid":"28e9bc4755ecb08e","reportUrl":"../5314//#testresult/28e9bc4755ecb08e","status":"broken","statusDetails":"jubilant._juju.CLIError: Command '['juju', 'status', '--model', 'testing', '--format', 'json']' returned non-zero exit status 1.\nStdout:\n{}\n\nStderr:\nERROR connection is shut down","time":{"start":1771810264758,"stop":1771810278890,"duration":14132}},{"uid":"6466a9d2a2858b92","reportUrl":"../5312//#testresult/6466a9d2a2858b92","status":"passed","time":{"start":1771723864547,"stop":1771724028203,"duration":163656}},{"uid":"bf99d533468a41ad","reportUrl":"../5310//#testresult/bf99d533468a41ad","status":"passed","time":{"start":1771637426241,"stop":1771637601155,"duration":174914}},{"uid":"1fe021cc31ca5363","reportUrl":"../5299//#testresult/1fe021cc31ca5363","status":"passed","time":{"start":1771551093104,"stop":1771551196843,"duration":103739}},{"uid":"db7fef56d2116408","reportUrl":"../5289//#testresult/db7fef56d2116408","status":"passed","time":{"start":1771464677050,"stop":1771464848247,"duration":171197}},{"uid":"9d5976ccdd5c5fcc","reportUrl":"../5284//#testresult/9d5976ccdd5c5fcc","status":"passed","time":{"start":1771378324181,"stop":1771378490137,"duration":165956}},{"uid":"472e937d2ffa0477","reportUrl":"../5260//#testresult/472e937d2ffa0477","status":"broken","statusDetails":"jubilant._juju.CLIError: Command '['juju', 'status', '--model', 'testing', '--format', 'json']' returned non-zero exit status 1.\nStdout:\n{}\n\nStderr:\nERROR connection is shut down","time":{"start":1771291829767,"stop":1771291868269,"duration":38502}},{"uid":"347f6bfc2005b0b7","reportUrl":"../5254//#testresult/347f6bfc2005b0b7","status":"passed","time":{"start":1771205429883,"stop":1771205540625,"duration":110742}},{"uid":"c7a2708db5ede766","reportUrl":"../5252//#testresult/c7a2708db5ede766","status":"passed","time":{"start":1771119053719,"stop":1771119222458,"duration":168739}},{"uid":"b2e39e9a4dbfdcad","reportUrl":"../5250//#testresult/b2e39e9a4dbfdcad","status":"passed","time":{"start":1771032653043,"stop":1771032826218,"duration":173175}},{"uid":"388a3981110f3e94","reportUrl":"../5243//#testresult/388a3981110f3e94","status":"passed","time":{"start":1770946320307,"stop":1770946490898,"duration":170591}},{"uid":"da3d963017973149","reportUrl":"../5236//#testresult/da3d963017973149","status":"passed","time":{"start":1770859922478,"stop":1770860040498,"duration":118020}},{"uid":"54b298ed5832ff5d","reportUrl":"../5207//#testresult/54b298ed5832ff5d","status":"passed","time":{"start":1770687446027,"stop":1770687550738,"duration":104711}},{"uid":"e1e822b8ec96a0df","reportUrl":"../5187//#testresult/e1e822b8ec96a0df","status":"passed","time":{"start":1770600681458,"stop":1770600799626,"duration":118168}},{"uid":"58f6d0c62c254269","reportUrl":"../5184//#testresult/58f6d0c62c254269","status":"broken","statusDetails":"TimeoutError: wait timed out after 1200s\nStatus(\n  model=ModelStatus(\n    name='testing',\n    type='caas',\n    controller='concierge-microk8s',\n    cloud='microk8s',\n    version='3.6.14',\n    region='localhost',\n    model_status=StatusInfo(current='available', since='08 Feb 2026 01:31:47Z'),\n  ),\n  machines={},\n  apps={\n    'di1': AppStatus(\n      charm='data-integrator',\n      charm_origin='charmhub',\n      charm_name='data-integrator',\n      charm_rev=343,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='24.04'),\n      charm_channel='latest/edge',\n      scale=1,\n      provider_id='f277d8fa-87a7-4ec6-8d82-ab861f9805ac',\n      address='10.152.183.47',\n      app_status=StatusInfo(current='active', since='08 Feb 2026 01:33:49Z'),\n      relations={\n        'data-integrator-peers': [\n          AppStatusRelation(related_app='di1', interface='data-integrator-peers', scope='global'),\n        ],\n        'postgresql': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n      },\n      units={\n        'di1/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='08 Feb 2026 01:33:49Z'),\n          juju_status=StatusInfo(current='idle', since='08 Feb 2026 01:33:49Z', version='3.6.14'),\n          leader=True,\n          address='10.1.76.147',\n          provider_id='di1-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'data-integrator-peers': 'alpha',\n        'etcd': 'alpha',\n        'kafka': 'alpha',\n        'kyuubi': 'alpha',\n        'mongodb': 'alpha',\n        'mongos': 'alpha',\n        'mysql': 'alpha',\n        'opensearch': 'alpha',\n        'postgresql': 'alpha',\n        'zookeeper': 'alpha',\n      },\n    ),\n    'di2': AppStatus(\n      charm='data-integrator',\n      charm_origin='charmhub',\n      charm_name='data-integrator',\n      charm_rev=343,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='24.04'),\n      charm_channel='latest/edge',\n      scale=1,\n      provider_id='ee755149-d90a-4926-bbfb-8d28b7b9d831',\n      address='10.152.183.248',\n      app_status=StatusInfo(current='active', since='08 Feb 2026 01:33:49Z'),\n      relations={\n        'data-integrator-peers': [\n          AppStatusRelation(related_app='di2', interface='data-integrator-peers', scope='global'),\n        ],\n        'postgresql': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n      },\n      units={\n        'di2/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='08 Feb 2026 01:33:49Z'),\n          juju_status=StatusInfo(current='idle', since='08 Feb 2026 01:33:49Z', version='3.6.14'),\n          leader=True,\n          address='10.1.76.146',\n          provider_id='di2-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'data-integrator-peers': 'alpha',\n        'etcd': 'alpha',\n        'kafka': 'alpha',\n        'kyuubi': 'alpha',\n        'mongodb': 'alpha',\n        'mongos': 'alpha',\n        'mysql': 'alpha',\n        'opensearch': 'alpha',\n        'postgresql': 'alpha',\n        'zookeeper': 'alpha',\n      },\n    ),\n    'di3': AppStatus(\n      charm='data-integrator',\n      charm_origin='charmhub',\n      charm_name='data-integrator',\n      charm_rev=343,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='24.04'),\n      charm_channel='latest/edge',\n      scale=1,\n      provider_id='e83a52e0-019e-47bd-9a41-c561eeb69130',\n      address='10.152.183.203',\n      app_status=StatusInfo(current='blocked', message='Please specify either topic, index, database name, or prefix', since='08 Feb 2026 01:33:14Z'),\n      relations={\n        'data-integrator-peers': [\n          AppStatusRelation(related_app='di3', interface='data-integrator-peers', scope='global'),\n        ],\n      },\n      units={\n        'di3/0': UnitStatus(\n          workload_status=StatusInfo(current='blocked', message='Please specify either topic, index, database name, or prefix', since='08 Feb 2026 01:33:14Z'),\n          juju_status=StatusInfo(current='idle', since='08 Feb 2026 01:33:15Z', version='3.6.14'),\n          leader=True,\n          address='10.1.76.148',\n          provider_id='di3-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'data-integrator-peers': 'alpha',\n        'etcd': 'alpha',\n        'kafka': 'alpha',\n        'kyuubi': 'alpha',\n        'mongodb': 'alpha',\n        'mongos': 'alpha',\n        'mysql': 'alpha',\n        'opensearch': 'alpha',\n        'postgresql': 'alpha',\n        'zookeeper': 'alpha',\n      },\n    ),\n    'postgresql-k8s': AppStatus(\n      charm='local:postgresql-k8s-0',\n      charm_origin='local',\n      charm_name='postgresql-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='24.04'),\n      scale=1,\n      provider_id='5f070992-f97e-496d-90b5-90c754cbbbe0',\n      address='10.152.183.148',\n      app_status=StatusInfo(current='waiting', message='installing agent', since='08 Feb 2026 01:42:02Z'),\n      relations={\n        'database': [\n          AppStatusRelation(related_app='di1', interface='postgresql_client', scope='global'),\n          AppStatusRelation(related_app='di2', interface='postgresql_client', scope='global'),\n        ],\n        'database-peers': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_peers', scope='global'),\n        ],\n        'refresh-v-three': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='refresh', scope='global'),\n        ],\n        'restart': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='rolling_op', scope='global'),\n        ],\n      },\n      units={\n        'postgresql-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='blocked', message='Failed to create postgres user', since='08 Feb 2026 01:33:42Z'),\n          juju_status=StatusInfo(current='idle', since='08 Feb 2026 01:42:02Z', version='3.6.14'),\n          leader=True,\n          address='10.1.76.144',\n          provider_id='postgresql-k8s-0',\n        ),\n      },\n      version='16.11',\n      endpoint_bindings={\n        '': 'alpha',\n        'client-certificates': 'alpha',\n        'database': 'alpha',\n        'database-peers': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'ldap': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'peer-certificates': 'alpha',\n        'receive-ca-cert': 'alpha',\n        'refresh-v-three': 'alpha',\n        'replication': 'alpha',\n        'replication-offer': 'alpha',\n        'restart': 'alpha',\n        's3-parameters': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n  },\n  storage=CombinedStorage(\n    storage={\n      'archive/0': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='08 Feb 2026 01:41:52Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n      ),\n      'data/1': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='08 Feb 2026 01:41:52Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n      ),\n      'logs/2': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='08 Feb 2026 01:41:52Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n      ),\n      'temp/3': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='08 Feb 2026 01:41:52Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n      ),\n    },\n    filesystems={\n      '0': FilesystemInfo(\n        size=1024,\n        provider_id='65702cf9-8319-4d3a-af13-d77a354e316a',\n        volume='0',\n        storage='archive/0',\n        attachments=FilesystemAttachments(\n          containers={\n            'postgresql-k8s/0': FilesystemAttachment(mount_point='/var/lib/postgresql/archive', read_only=False, life='alive'),\n          },\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='08 Feb 2026 01:41:52Z'),\n      ),\n      '1': FilesystemInfo(\n        size=1024,\n        provider_id='b3166014-ec95-4588-a6df-10dc76475544',\n        volume='1',\n        storage='data/1',\n        attachments=FilesystemAttachments(\n          containers={\n            'postgresql-k8s/0': FilesystemAttachment(mount_point='/var/lib/postgresql/data', read_only=False, life='alive'),\n          },\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='08 Feb 2026 01:41:52Z'),\n      ),\n      '2': FilesystemInfo(\n        size=1024,\n        provider_id='f1bd6f74-75a0-4898-bbb2-443c30baf2c7',\n        volume='2',\n        storage='logs/2',\n        attachments=FilesystemAttachments(\n          containers={\n            'postgresql-k8s/0': FilesystemAttachment(mount_point='/var/lib/postgresql/logs', read_only=False, life='alive'),\n          },\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='08 Feb 2026 01:41:52Z'),\n      ),\n      '3': FilesystemInfo(\n        size=1024,\n        provider_id='d2fea12d-9b69-4171-ba5b-c954f723c085',\n        volume='3',\n        storage='temp/3',\n        attachments=FilesystemAttachments(\n          containers={\n            'postgresql-k8s/0': FilesystemAttachment(mount_point='/var/lib/postgresql/temp', read_only=False, life='alive'),\n          },\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='08 Feb 2026 01:41:52Z'),\n      ),\n    },\n    volumes={\n      '0': VolumeInfo(\n        size=1024,\n        persistent=True,\n        provider_id='pvc-65702cf9-8319-4d3a-af13-d77a354e316a',\n        storage='archive/0',\n        attachments=VolumeAttachments(\n          containers={\n            'postgresql-k8s/0': VolumeAttachment(read_only=False, life='alive'),\n          },\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='08 Feb 2026 01:32:56Z'),\n      ),\n      '1': VolumeInfo(\n        size=1024,\n        persistent=True,\n        provider_id='pvc-b3166014-ec95-4588-a6df-10dc76475544',\n        storage='data/1',\n        attachments=VolumeAttachments(\n          containers={\n            'postgresql-k8s/0': VolumeAttachment(read_only=False, life='alive'),\n          },\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='08 Feb 2026 01:32:56Z'),\n      ),\n      '2': VolumeInfo(\n        size=1024,\n        persistent=True,\n        provider_id='pvc-f1bd6f74-75a0-4898-bbb2-443c30baf2c7',\n        storage='logs/2',\n        attachments=VolumeAttachments(\n          containers={\n            'postgresql-k8s/0': VolumeAttachment(read_only=False, life='alive'),\n          },\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='08 Feb 2026 01:32:56Z'),\n      ),\n      '3': VolumeInfo(\n        size=1024,\n        persistent=True,\n        provider_id='pvc-d2fea12d-9b69-4171-ba5b-c954f723c085',\n        storage='temp/3',\n        attachments=VolumeAttachments(\n          containers={\n            'postgresql-k8s/0': VolumeAttachment(read_only=False, life='alive'),\n          },\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='08 Feb 2026 01:32:56Z'),\n      ),\n    },\n  ),\n  controller=ControllerStatus(timestamp='01:52:29Z'),\n)","time":{"start":1770514337219,"stop":1770515550801,"duration":1213582}},{"uid":"16b75b269d23baf3","reportUrl":"../5176//#testresult/16b75b269d23baf3","status":"passed","time":{"start":1770427861204,"stop":1770427975502,"duration":114298}}]},"tags":[]},"source":"795971ef6bbdbe0a.json","parameterValues":[]}