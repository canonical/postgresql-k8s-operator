{"uid":"e909c9b1cf31e741","name":"test_data_replication","fullName":"tests.integration.high_availability.test_async_replication#test_data_replication","historyId":"6c6a39d1deef0f5c857c63ef8908d129","time":{"start":1769045998571,"stop":1769046015804,"duration":17233},"description":"Test to write to primary, and read the same data back from replicas.","descriptionHtml":"<p>Test to write to primary, and read the same data back from replicas.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"second_model","time":{"start":1769045426923,"stop":1769045427157,"duration":234},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju","time":{"start":1769045426923,"stop":1769045426923,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1769045426923,"stop":1769045426923,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1769045995967,"stop":1769045995967,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model_continuous_writes","time":{"start":1769045995967,"stop":1769045998570,"duration":2603},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test to write to primary, and read the same data back from replicas.","status":"passed","steps":[],"attachments":[{"uid":"114841dfc8060810","name":"log","source":"114841dfc8060810.txt","type":"text/plain","size":3307}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"first_model_continuous_writes::0","time":{"start":1769046015805,"stop":1769046017028,"duration":1223},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1769046017029,"stop":1769046017029,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::0","time":{"start":1769046165951,"stop":1769046166456,"duration":505},"status":"broken","statusMessage":"jubilant._juju.CLIError: Command '['juju', 'destroy-model', 'testing-other', '--no-prompt', '--destroy-storage', '--force']' returned non-zero exit status 1.\nStderr:\nERROR cannot connect to API: connection is shut down\n\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/fixtures.py\", line 924, in _teardown_yield_fixture\n    next(it)\n  File \"/root/spread_project/tests/integration/high_availability/test_async_replication.py\", line 53, in second_model\n    juju.destroy_model(model_name, destroy_storage=True, force=True)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/jubilant/_juju.py\", line 642, in destroy_model\n    self.cli(*args, include_model=False)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/jubilant/_juju.py\", line 376, in cli\n    stdout, _ = self._cli(*args, include_model=include_model, stdin=stdin)\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/jubilant/_juju.py\", line 402, in _cli\n    raise CLIError(e.returncode, e.cmd, e.stdout, e.stderr) from None\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"juju::0","time":{"start":1769046166457,"stop":1769046166457,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model::0","time":{"start":1769046166457,"stop":1769046166457,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_async_replication"},{"name":"host","value":"runnervmmtnos"},{"name":"thread","value":"19735-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_async_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"db017c4434b9fe92","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":2,"unknown":5,"total":8},"items":[{"uid":"b6a997ca2bbece3f","reportUrl":"../5064//#testresult/b6a997ca2bbece3f","status":"passed","time":{"start":1768959586458,"stop":1768959604871,"duration":18413}},{"uid":"8df9751c2c33aacd","reportUrl":"../5047//#testresult/8df9751c2c33aacd","status":"unknown","time":{}},{"uid":"29d1d944e40ba800","reportUrl":"../5041//#testresult/29d1d944e40ba800","status":"unknown","time":{}},{"uid":"5d62589ee6659a45","reportUrl":"../5038//#testresult/5d62589ee6659a45","status":"unknown","time":{}},{"uid":"9eaae5d9b4e93d1b","reportUrl":"../5036//#testresult/9eaae5d9b4e93d1b","status":"broken","statusDetails":"jubilant._juju.CLIError: Command '['juju', 'run', '--model', 'testing', '--format', 'json', 'test-app1/0', 'stop-continuous-writes']' returned non-zero exit status 1.\nStdout:\n{}\n\nStderr:\nERROR connection is shut down","time":{"start":1768613962406,"stop":1768613963307,"duration":901}},{"uid":"c619605f51227598","reportUrl":"../5034//#testresult/c619605f51227598","status":"unknown","time":{}},{"uid":"8caa40c75087f15e","reportUrl":"../5018//#testresult/8caa40c75087f15e","status":"unknown","time":{}}]},"tags":[]},"source":"e909c9b1cf31e741.json","parameterValues":[]}