{"uid":"4b4757e66a1912dae1a509f688f20b0f","name":"categories","children":[{"name":"Product defects","children":[{"name":"AssertionError: TLS is not being used on pg_rewind connections\nassert 'connection authorized: user=rewind database=postgres SSL enabled' in '/var/log/postgresql/postgresql-2_0134.log:\\t                  SELECT t.user, STRING_AGG(DISTINCT t.database, \\',\\') AS databases FROM( SELECT u.usename AS user, CASE WHEN u.usesuper THEN \\'all\\' ELSE d.datname END AS database FROM ( SELECT usename, usesuper FROM pg_catalog.pg_user WHERE usename NOT IN (\\'backup\\', \\'monitoring\\', \\'operator\\', \\'postgres\\', \\'replication\\', \\'rewind\\')) AS u JOIN ( SELECT datname FROM pg_catalog.pg_database WHERE NOT datistemplate ) AS d ON has_database_privilege(u.usename, d.datname, \\'CONNECT\\') ) AS t GROUP BY 1;\\n/var/log/postgresql/postgresql-2_0134.log:2025-07-01 01:34:35 UTC [886]: user=operator,db=postgres,app=[unknown],client=10.1.0.149,line=15 LOG:  00000: statement: GRANT ALL PRIVILEGES ON DATABASE postgres TO \"rewind\";\\n/var/log/postgresql/postgresql-2_0134.log:2025-07-01 01:34:35 UTC [891]: user=operator,db=postgres,app=[unknown],client=10.1.0.149,line=11 LOG:  00000: statement: GRANT \"internal_access\" TO \"rewind\";\\n/var/log/postgresql/postgresql-2_0140.log:2025-07-01 01:40:48 UTC [6592]: user=operator,db=postgres,app=[unknown],client=10.1.0.149,line=9 LOG:  00000: statement: CREATE TABLE pgrewindtest (testcol INT);\\n/var/log/postgresql/postgresql-2_0140.log:2025-07-01 01:40:48 UTC [6592]: user=operator,db=postgres,app=[unknown],client=10.1.0.149,line=11 LOG:  00000: AUDIT: SESSION,2,1,DDL,CREATE TABLE,TABLE,public.pgrewindtest,CREATE TABLE pgrewindtest (testcol INT);,<not logged>\\n'","children":[{"name":"test_tls","uid":"b2069efd20e79e46","parentUid":"237f9445ff76c23b673881d0ffe0666c","status":"failed","time":{"start":1751333557896,"stop":1751334282635,"duration":724739},"flaky":false,"newFailed":true,"newPassed":false,"newBroken":false,"retriesCount":1,"retriesStatusChange":true,"parameters":[],"tags":["asyncio","abort_on_fail"]}],"uid":"237f9445ff76c23b673881d0ffe0666c"},{"name":"AssertionError: testing.postgresql-k8s-0: writes to the db were missed: count of actual writes (1075) on testing.postgresql-k8s-0 different from the max number written (1096).","children":[{"name":"test_scaling_to_zero","uid":"1a8e31ce979ad204","parentUid":"39d721ab057e75b6287dbc5bdb1e3c7b","status":"failed","time":{"start":1751333872024,"stop":1751334647807,"duration":775783},"flaky":false,"newFailed":true,"newPassed":false,"newBroken":false,"retriesCount":1,"retriesStatusChange":true,"parameters":[],"tags":["asyncio","abort_on_fail"]}],"uid":"39d721ab057e75b6287dbc5bdb1e3c7b"},{"name":"AssertionError: Unable to create continuous_writes table","children":[{"name":"test_interruption_db_process[SIGTERM-postgres]","uid":"25b46e80b9ea0bb6","parentUid":"81efe9c86a456146b55a0e93cba4cd65","status":"failed","time":{"start":1751334033317,"stop":1751334376975,"duration":343658},"flaky":true,"newFailed":true,"newPassed":false,"newBroken":false,"retriesCount":1,"retriesStatusChange":true,"parameters":["'postgres'","'SIGTERM'"],"tags":["asyncio","abort_on_fail"]}],"uid":"81efe9c86a456146b55a0e93cba4cd65"},{"name":"AssertionError: testing-other.postgresql-k8s-2: writes to the db were missed.","children":[{"name":"test_async_replication_failover_in_main_cluster","uid":"8640d8fd231028e3","parentUid":"8c1a0d5c6052c4821d3528e5cfca7c2e","status":"failed","time":{"start":1751334765493,"stop":1751334915584,"duration":150091},"flaky":true,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":1,"retriesStatusChange":true,"parameters":[],"tags":["asyncio","abort_on_fail"]}],"uid":"8c1a0d5c6052c4821d3528e5cfca7c2e"}],"uid":"8fb3a91ba5aaf9de24cc8a92edc82b5d"},{"name":"Test defects","children":[{"name":"tenacity.RetryError: RetryError[<Future at 0x7f582d7488f0 state=finished raised AssertionError>]","children":[{"name":"test_restore_on_new_cluster","uid":"29c7998115d411f3","parentUid":"e580875e63afb7100e6a187f8d9ce91a","status":"broken","time":{"start":1751334932423,"stop":1751335386401,"duration":453978},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":1,"retriesStatusChange":true,"parameters":[],"tags":["asyncio","abort_on_fail"]}],"uid":"e580875e63afb7100e6a187f8d9ce91a"},{"name":"TimeoutError","children":[{"name":"test_invalid_extra_user_roles","uid":"2b66602ac0fe8c8b","parentUid":"dfcafd69ae472f4a80c14b338c9d189a","status":"broken","time":{"start":1751335267989,"stop":1751336472790,"duration":1204801},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":true,"retriesCount":1,"retriesStatusChange":true,"parameters":[],"tags":["asyncio"]}],"uid":"dfcafd69ae472f4a80c14b338c9d189a"},{"name":"TimeoutError: Timed out waiting for model:\n  postgresql-k8s/0 [allocating] waiting: installing agent\n  postgresql-k8s/1 [allocating] waiting: installing agent\n  postgresql-k8s/2 [allocating] waiting: installing agent","children":[{"name":"test_redeploy_charm_same_model_after_forcing_removal","uid":"117b0039b83ac7a","parentUid":"0546e1c9110c46e8048c5d1ca9ac5857","status":"broken","time":{"start":1751335601167,"stop":1751336611715,"duration":1010548},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":1,"retriesStatusChange":true,"parameters":[],"tags":["asyncio"]}],"uid":"0546e1c9110c46e8048c5d1ca9ac5857"}],"uid":"bdbf199525818fae7a8651db9eafe741"}]}