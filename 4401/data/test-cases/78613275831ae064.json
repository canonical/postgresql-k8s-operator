{"uid":"78613275831ae064","name":"test_redeploy_charm_same_model_after_forcing_removal","fullName":"tests.integration.test_charm#test_redeploy_charm_same_model_after_forcing_removal","historyId":"ca9aac0977186ec16e8b66c76fd09de6","time":{"start":1755309768109,"stop":1755310102413,"duration":334304},"description":"Redeploy the charm in the same model to test that it works after a forceful removal.","descriptionHtml":"<p>Redeploy the charm in the same model to test that it works after a forceful removal.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1755307809899,"stop":1755307809900,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1755307809900,"stop":1755307809900,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1755307809900,"stop":1755307810157,"duration":257},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1755307809900,"stop":1755307809900,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1755309768108,"stop":1755309768108,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Redeploy the charm in the same model to test that it works after a forceful removal.","status":"passed","steps":[],"attachments":[{"uid":"186db227399ced2e","name":"log","source":"186db227399ced2e.txt","type":"text/plain","size":2784}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1755310102413,"stop":1755310102413,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1755310210601,"stop":1755310210962,"duration":361},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1755310210963,"stop":1755310210963,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1755310210963,"stop":1755310210963,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1755310210963,"stop":1755310210963,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm"},{"name":"host","value":"pkrvmubgrv54qmi"},{"name":"thread","value":"19490-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"bb50f9f862590c3","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":4,"broken":60,"skipped":2,"passed":359,"unknown":5,"total":430},"items":[{"uid":"bfc95aa06be7261d","reportUrl":"../4398//#testresult/bfc95aa06be7261d","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  postgresql-k8s/0 [allocating] waiting: agent initialising\n  postgresql-k8s/1 [allocating] waiting: agent initialising\n  postgresql-k8s/2 [allocating] waiting: agent initialising","time":{"start":1755223435217,"stop":1755224443993,"duration":1008776}},{"uid":"57c65a83d3ec3588","reportUrl":"../4395//#testresult/57c65a83d3ec3588","status":"passed","time":{"start":1755136976440,"stop":1755137342141,"duration":365701}},{"uid":"5498a589a8c65ed5","reportUrl":"../4391//#testresult/5498a589a8c65ed5","status":"passed","time":{"start":1755050569709,"stop":1755050888858,"duration":319149}},{"uid":"b6fb99726862057d","reportUrl":"../4378//#testresult/b6fb99726862057d","status":"passed","time":{"start":1754964144797,"stop":1754964473821,"duration":329024}},{"uid":"80832951010c658a","reportUrl":"../4373//#testresult/80832951010c658a","status":"passed","time":{"start":1754877951441,"stop":1754878275097,"duration":323656}},{"uid":"8bacd74fd9ee885b","reportUrl":"../4372//#testresult/8bacd74fd9ee885b","status":"passed","time":{"start":1754791446884,"stop":1754791766218,"duration":319334}},{"uid":"4693b706a76a51a5","reportUrl":"../4371//#testresult/4693b706a76a51a5","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  postgresql-k8s/0 [allocating] waiting: installing agent\n  postgresql-k8s/1 [allocating] waiting: installing agent\n  postgresql-k8s/2 [allocating] waiting: installing agent","time":{"start":1754704975875,"stop":1754705984128,"duration":1008253}},{"uid":"fc536b45a9c5b2b2","reportUrl":"../4369//#testresult/fc536b45a9c5b2b2","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  postgresql-k8s/0 [allocating] waiting: installing agent\n  postgresql-k8s/1 [allocating] waiting: installing agent\n  postgresql-k8s/2 [allocating] waiting: installing agent","time":{"start":1754618491491,"stop":1754619499825,"duration":1008334}},{"uid":"d0f9611e220f366a","reportUrl":"../4366//#testresult/d0f9611e220f366a","status":"passed","time":{"start":1754532300457,"stop":1754532610342,"duration":309885}},{"uid":"72f74025ba47fd13","reportUrl":"../4363//#testresult/72f74025ba47fd13","status":"passed","time":{"start":1754445999348,"stop":1754446317732,"duration":318384}},{"uid":"3355edcd4e5d868f","reportUrl":"../4353//#testresult/3355edcd4e5d868f","status":"passed","time":{"start":1754359422741,"stop":1754359774913,"duration":352172}},{"uid":"abeca11c10d7bdbd","reportUrl":"../4351//#testresult/abeca11c10d7bdbd","status":"passed","time":{"start":1754272995245,"stop":1754273333829,"duration":338584}},{"uid":"92920a6ebe289511","reportUrl":"../4350//#testresult/92920a6ebe289511","status":"passed","time":{"start":1754186637188,"stop":1754186938679,"duration":301491}},{"uid":"6b3d0f7a62549010","reportUrl":"../4346//#testresult/6b3d0f7a62549010","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  postgresql-k8s/0 [allocating] waiting: installing agent\n  postgresql-k8s/1 [allocating] waiting: installing agent\n  postgresql-k8s/2 [allocating] waiting: installing agent","time":{"start":1754100306892,"stop":1754101315559,"duration":1008667}},{"uid":"c63fb3ecc4520d05","reportUrl":"../4343//#testresult/c63fb3ecc4520d05","status":"passed","time":{"start":1754013917667,"stop":1754014311527,"duration":393860}},{"uid":"a06e1f268a4d4324","reportUrl":"../4339//#testresult/a06e1f268a4d4324","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  postgresql-k8s/0 [allocating] waiting: installing agent\n  postgresql-k8s/1 [allocating] waiting: installing agent\n  postgresql-k8s/2 [allocating] waiting: installing agent","time":{"start":1753927550502,"stop":1753928559190,"duration":1008688}},{"uid":"cc78170a6e0cf18a","reportUrl":"../4333//#testresult/cc78170a6e0cf18a","status":"passed","time":{"start":1753841052847,"stop":1753841349791,"duration":296944}},{"uid":"10d588d4c92c9c21","reportUrl":"../4318//#testresult/10d588d4c92c9c21","status":"passed","time":{"start":1753755164568,"stop":1753755476775,"duration":312207}},{"uid":"8735c55fda5afc98","reportUrl":"../4309//#testresult/8735c55fda5afc98","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  postgresql-k8s/0 [allocating] waiting: installing agent\n  postgresql-k8s/1 [allocating] waiting: installing agent\n  postgresql-k8s/2 [allocating] waiting: installing agent","time":{"start":1753668375072,"stop":1753669383685,"duration":1008613}},{"uid":"9eb43f834185200e","reportUrl":"../4308//#testresult/9eb43f834185200e","status":"failed","statusDetails":"AssertionError: assert {'Endpoints/p...l-k8s-config'} == {'Endpoints/p...-config', ...}\n  \n  Extra items in the right set:\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mService/postgresql-k8s-replicas\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mEndpoints/postgresql-k8s-primary\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mEndpoints/postgresql-k8s-replicas\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mService/postgresql-k8s-primary\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \n  Full diff:\n  \u001B[0m\u001B[90m \u001B[39;49;00m {\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     'Endpoints/patroni-postgresql-k8s',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     'Endpoints/patroni-postgresql-k8s-config',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     'Endpoints/patroni-postgresql-k8s-sync',\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Endpoints/postgresql-k8s-primary',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Endpoints/postgresql-k8s-replicas',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     'Service/patroni-postgresql-k8s-config',\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Service/postgresql-k8s-primary',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Service/postgresql-k8s-replicas',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m }\u001B[90m\u001B[39;49;00m","time":{"start":1753581972397,"stop":1753581974168,"duration":1771}}]},"tags":["asyncio"]},"source":"78613275831ae064.json","parameterValues":[]}