{"uid":"4b4757e66a1912dae1a509f688f20b0f","name":"categories","children":[{"name":"Test defects","children":[{"name":"psycopg2.OperationalError: connection to server at \"10.1.98.11\", port 5432 failed: FATAL:  no pg_hba.conf entry for host \"10.1.0.189\", user \"relation_id_0\", database \"test_1\", no encryption","children":[{"name":"test_pg_hba","uid":"97b8f2348c9f22c4","parentUid":"8db06cd0762a506c367ee5242c62d768","status":"broken","time":{"start":1753493424540,"stop":1753493768063,"duration":343523},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":1,"retriesStatusChange":true,"parameters":[],"tags":["asyncio","abort_on_fail"]}],"uid":"8db06cd0762a506c367ee5242c62d768"},{"name":"juju.errors.JujuError: base \"ubuntu@22.04/stable\" is not supported, supported bases are: ubuntu@24.04","children":[{"name":"test_relations","uid":"16fa253cbc8f3719","parentUid":"c36f9a51fa2e2517c7b9fe94a3b9c6cf","status":"broken","time":{"start":1753493462439,"stop":1753493617558,"duration":155119},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":1,"retriesStatusChange":true,"parameters":[],"tags":["asyncio","abort_on_fail"]},{"name":"test_admin_role","uid":"f38137ee08f620ef","parentUid":"c36f9a51fa2e2517c7b9fe94a3b9c6cf","status":"broken","time":{"start":1753494915409,"stop":1753494917180,"duration":1771},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":1,"retriesStatusChange":true,"parameters":[],"tags":["asyncio","abort_on_fail"]}],"uid":"c36f9a51fa2e2517c7b9fe94a3b9c6cf"},{"name":"psycopg2.errors.InsufficientPrivilege: permission denied to create database","children":[{"name":"test_user_with_extra_roles","uid":"2888c46a8a163403","parentUid":"d25f8316b293763a2ae489766aa88b2e","status":"broken","time":{"start":1753493876260,"stop":1753493876736,"duration":476},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":1,"retriesStatusChange":true,"parameters":[],"tags":["asyncio"]}],"uid":"d25f8316b293763a2ae489766aa88b2e"},{"name":"tenacity.RetryError: RetryError[<Future at 0x7f73de574f80 state=finished raised AssertionError>]","children":[{"name":"test_restore_on_new_cluster","uid":"cbb348e5831edd21","parentUid":"3b6b8cc50bbdfe823463e2a2e9fe12f4","status":"broken","time":{"start":1753494747616,"stop":1753495173381,"duration":425765},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":1,"retriesStatusChange":true,"parameters":[],"tags":["asyncio","abort_on_fail"]}],"uid":"3b6b8cc50bbdfe823463e2a2e9fe12f4"}],"uid":"bdbf199525818fae7a8651db9eafe741"},{"name":"Product defects","children":[{"name":"AssertionError: TLS is not being used on pg_rewind connections\nassert 'connection authorized: user=rewind database=postgres SSL enabled' in '/var/log/postgresql/postgresql-6_0135.log:\\t                  SELECT t.user, STRING_AGG(DISTINCT t.database, \\',\\') AS databases FROM( SELECT u.usename AS user, CASE WHEN u.usesuper THEN \\'all\\' ELSE d.datname END AS database FROM ( SELECT usename, usesuper FROM pg_catalog.pg_user WHERE usename NOT IN (\\'backup\\', \\'monitoring\\', \\'operator\\', \\'postgres\\', \\'replication\\', \\'rewind\\')) AS u JOIN ( SELECT datname FROM pg_catalog.pg_database WHERE NOT datistemplate ) AS d ON has_database_privilege(u.usename, d.datname, \\'CONNECT\\') ) AS t GROUP BY 1;\\n/var/log/postgresql/postgresql-6_0135.log:2025-07-26 01:35:48 UTC [887]: user=operator,db=postgres,app=[unknown],client=10.1.0.207,line=15 LOG:  00000: statement: GRANT ALL PRIVILEGES ON DATABASE postgres TO \"rewind\";\\n/var/log/postgresql/postgresql-6_0135.log:2025-07-26 01:35:48 UTC [892]: user=operator,db=postgres,app=[unknown],client=10.1.0.207,line=11 LOG:  00000: statement: GRANT \"internal_access\" TO \"rewind\";\\n/var/log/postgresql/postgresql-6_0141.log:2025-07-26 01:41:41 UTC [6884]: user=operator,db=postgres,app=[unknown],client=10.1.0.207,line=9 LOG:  00000: statement: CREATE TABLE pgrewindtest (testcol INT);\\n/var/log/postgresql/postgresql-6_0141.log:2025-07-26 01:41:41 UTC [6884]: user=operator,db=postgres,app=[unknown],client=10.1.0.207,line=11 LOG:  00000: AUDIT: SESSION,2,1,DDL,CREATE TABLE,TABLE,public.pgrewindtest,CREATE TABLE pgrewindtest (testcol INT);,<not logged>\\n'","children":[{"name":"test_tls","uid":"c752389ff1855a6e","parentUid":"f4358cf29185f5905b1a9a01621b4284","status":"failed","time":{"start":1753493630241,"stop":1753494326195,"duration":695954},"flaky":false,"newFailed":true,"newPassed":false,"newBroken":false,"retriesCount":1,"retriesStatusChange":true,"parameters":[],"tags":["asyncio","abort_on_fail"]}],"uid":"f4358cf29185f5905b1a9a01621b4284"},{"name":"AssertionError: testing.postgresql-k8s-1: writes to the db were missed.","children":[{"name":"test_freeze_db_process[/usr/bin/patroni]","uid":"6e24bd6e3f2d70bf","parentUid":"d9fab55d40399a9d49138bd2df8b4030","status":"failed","time":{"start":1753494855040,"stop":1753494955131,"duration":100091},"flaky":false,"newFailed":true,"newPassed":false,"newBroken":false,"retriesCount":1,"retriesStatusChange":true,"parameters":["'/usr/bin/patroni'"],"tags":["asyncio","abort_on_fail"]}],"uid":"d9fab55d40399a9d49138bd2df8b4030"}],"uid":"8fb3a91ba5aaf9de24cc8a92edc82b5d"}]}