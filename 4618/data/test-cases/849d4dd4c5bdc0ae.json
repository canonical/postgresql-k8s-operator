{"uid":"849d4dd4c5bdc0ae","name":"test_async_replication_failover_in_main_cluster","fullName":"tests.integration.ha_tests.test_async_replication#test_async_replication_failover_in_main_cluster","historyId":"0d36e96afab568171b86ef8e12ac0c4f","time":{"start":1759542361477,"stop":1759542464198,"duration":102721},"description":"Test that async replication fails over correctly.","descriptionHtml":"<p>Test that async replication fails over correctly.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"ops_test","time":{"start":1759541435819,"stop":1759541436090,"duration":271},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1759541435819,"stop":1759541435819,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1759541435819,"stop":1759541435819,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1759541436090,"stop":1759541436091,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1759541436091,"stop":1759541436853,"duration":762},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1759542361476,"stop":1759542361476,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1759542361476,"stop":1759542361476,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test that async replication fails over correctly.","status":"passed","steps":[],"attachments":[{"uid":"e8fe5eaee835728e","name":"log","source":"e8fe5eaee835728e.txt","type":"text/plain","size":4903}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1759542464198,"stop":1759542465221,"duration":1023},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1759542465221,"stop":1759542465221,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::finalizer","time":{"start":1759543092099,"stop":1759543092112,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1759543092113,"stop":1759543094543,"duration":2430},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1759543094544,"stop":1759543094544,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1759543094544,"stop":1759543094544,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1759543094544,"stop":1759543094544,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_async_replication"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"20485-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_async_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"ec9f18a2125ca4fa","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":39,"broken":0,"skipped":8,"passed":406,"unknown":18,"total":471},"items":[{"uid":"9df16579dce5d8bf","reportUrl":"../4615//#testresult/9df16579dce5d8bf","status":"passed","time":{"start":1759455941427,"stop":1759456020050,"duration":78623}},{"uid":"85b5894ad47dcfcb","reportUrl":"../4608//#testresult/85b5894ad47dcfcb","status":"passed","time":{"start":1759370034297,"stop":1759370163011,"duration":128714}},{"uid":"f335c867659fb3b1","reportUrl":"../4592//#testresult/f335c867659fb3b1","status":"passed","time":{"start":1759283925469,"stop":1759284043102,"duration":117633}},{"uid":"18409cdc9e6a923a","reportUrl":"../4582//#testresult/18409cdc9e6a923a","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-k8s-2' != 'postgresql-k8s-2'","time":{"start":1759198527625,"stop":1759198710219,"duration":182594}},{"uid":"67c622aa57160304","reportUrl":"../4572//#testresult/67c622aa57160304","status":"passed","time":{"start":1759111207545,"stop":1759111319577,"duration":112032}},{"uid":"108d23d7c4723930","reportUrl":"../4571//#testresult/108d23d7c4723930","status":"passed","time":{"start":1759025136779,"stop":1759025245568,"duration":108789}},{"uid":"f4b1375fd623650d","reportUrl":"../4570//#testresult/f4b1375fd623650d","status":"passed","time":{"start":1758938211197,"stop":1758938330209,"duration":119012}},{"uid":"4a35fa971a028ad5","reportUrl":"../4563//#testresult/4a35fa971a028ad5","status":"failed","statusDetails":"AssertionError: testing-other.postgresql-k8s-1: writes to the db were missed.","time":{"start":1758851870172,"stop":1758851982311,"duration":112139}},{"uid":"f022a0cef7784882","reportUrl":"../4562//#testresult/f022a0cef7784882","status":"passed","time":{"start":1758765559188,"stop":1758765665053,"duration":105865}},{"uid":"960585ab434ff24f","reportUrl":"../4559//#testresult/960585ab434ff24f","status":"passed","time":{"start":1758678968232,"stop":1758679085948,"duration":117716}},{"uid":"e7d684de88c52e08","reportUrl":"../4548//#testresult/e7d684de88c52e08","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-k8s-0' != 'postgresql-k8s-0'","time":{"start":1758592682435,"stop":1758592867992,"duration":185557}},{"uid":"f03e8088b48d740e","reportUrl":"../4544//#testresult/f03e8088b48d740e","status":"passed","time":{"start":1758506242851,"stop":1758506343267,"duration":100416}},{"uid":"8ef107cc6a4a78a1","reportUrl":"../4542//#testresult/8ef107cc6a4a78a1","status":"passed","time":{"start":1758419948810,"stop":1758420072176,"duration":123366}},{"uid":"bd976a99d1603992","reportUrl":"../4540//#testresult/bd976a99d1603992","status":"passed","time":{"start":1758333452190,"stop":1758333602121,"duration":149931}},{"uid":"e69d82ee973a00e9","reportUrl":"../4539//#testresult/e69d82ee973a00e9","status":"passed","time":{"start":1758247031740,"stop":1758247145493,"duration":113753}},{"uid":"7ab8d479579b92de","reportUrl":"../4538//#testresult/7ab8d479579b92de","status":"passed","time":{"start":1758160719961,"stop":1758160835555,"duration":115594}},{"uid":"f864b823d063211e","reportUrl":"../4535//#testresult/f864b823d063211e","status":"passed","time":{"start":1758074202297,"stop":1758074340316,"duration":138019}},{"uid":"4ab4ce7397398403","reportUrl":"../4528//#testresult/4ab4ce7397398403","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-k8s-0' != 'postgresql-k8s-0'","time":{"start":1757987840085,"stop":1757987917039,"duration":76954}},{"uid":"d7e51da4e4b41781","reportUrl":"../4524//#testresult/d7e51da4e4b41781","status":"passed","time":{"start":1757901397794,"stop":1757901511761,"duration":113967}},{"uid":"eb209ff9b6688a18","reportUrl":"../4521//#testresult/eb209ff9b6688a18","status":"unknown","time":{}}]},"tags":["asyncio","abort_on_fail"]},"source":"849d4dd4c5bdc0ae.json","parameterValues":[]}