<!DOCTYPE html>
<meta charset="utf-8">
<ul id="branches"></ul>
<style>
    ul {
        font-size: 2rem;
    }
</style>
<script type="module">
    const response = await fetch("https://api.github.com/repos/canonical/postgresql-k8s-operator/contents?ref=gh-pages-beta", {
        headers: {
            "Accept": "application/vnd.github.object+json",
            "X-GitHub-Api-Version": "2022-11-28",
        }
    });
    const result = await response.json();
    let branches = "";
    for (const entry of result["entries"]) {
        if (entry["type"] !== "dir") {
            continue;
        }
        branches += `<li><a href="${entry["path"]}/">${entry["path"]}</a></li>`;
    }
    document.getElementById("branches").innerHTML = branches;
</script>
