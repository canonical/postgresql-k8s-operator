{"uid":"75d44146737adf23","name":"test_user_with_extra_roles","fullName":"tests.integration.new_relations.test_new_relations_1#test_user_with_extra_roles","historyId":"a61dd29238edec745defb8354d03ca53","time":{"start":1753407433519,"stop":1753407434096,"duration":577},"description":"Test superuser actions and the request for more permissions.","descriptionHtml":"<p>Test superuser actions and the request for more permissions.</p>\n","status":"broken","statusMessage":"psycopg2.errors.InsufficientPrivilege: permission denied to create database","statusTrace":"Traceback (most recent call last):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n                             ^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    raise exception\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/logging.py\", line 850, in pytest_runtest_call\n    yield\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 53, in run_old_style_hookwrapper\n    return result.get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 103, in get_result\n    raise exc.with_traceback(tb)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/capture.py\", line 900, in pytest_runtest_call\n    return (yield)\n            ^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/skipping.py\", line 263, in pytest_runtest_call\n    return (yield)\n            ^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    raise exception\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 53, in run_old_style_hookwrapper\n    return result.get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 103, in get_result\n    raise exc.with_traceback(tb)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 529, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/tests/integration/new_relations/test_new_relations_1.py\", line 176, in test_user_with_extra_roles\n    cursor.execute(\"CREATE DATABASE another_database;\")\npsycopg2.errors.InsufficientPrivilege: permission denied to create database","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1753407055124,"stop":1753407055124,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1753407055125,"stop":1753407055326,"duration":201},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1753407055125,"stop":1753407055125,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1753407433519,"stop":1753407433519,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test superuser actions and the request for more permissions.","status":"broken","statusMessage":"psycopg2.errors.InsufficientPrivilege: permission denied to create database","statusTrace":"Traceback (most recent call last):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n                             ^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    raise exception\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/logging.py\", line 850, in pytest_runtest_call\n    yield\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 53, in run_old_style_hookwrapper\n    return result.get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 103, in get_result\n    raise exc.with_traceback(tb)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/capture.py\", line 900, in pytest_runtest_call\n    return (yield)\n            ^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/skipping.py\", line 263, in pytest_runtest_call\n    return (yield)\n            ^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    raise exception\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 53, in run_old_style_hookwrapper\n    return result.get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 103, in get_result\n    raise exc.with_traceback(tb)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 529, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/tests/integration/new_relations/test_new_relations_1.py\", line 176, in test_user_with_extra_roles\n    cursor.execute(\"CREATE DATABASE another_database;\")\npsycopg2.errors.InsufficientPrivilege: permission denied to create database","steps":[],"attachments":[{"uid":"e384ffe14a62cb7b","name":"log","source":"e384ffe14a62cb7b.txt","type":"text/plain","size":152}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1753407434122,"stop":1753407434122,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1753408539622,"stop":1753408539994,"duration":372},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1753408539995,"stop":1753408539995,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1753408539995,"stop":1753408539995,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1753408539995,"stop":1753408539995,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"asyncio"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.new_relations"},{"name":"suite","value":"test_new_relations_1"},{"name":"host","value":"pkrvmpptgkbjq6m"},{"name":"thread","value":"19957-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.new_relations.test_new_relations_1"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"919daef4a7169556","status":"unknown","time":{}}],"categories":[{"name":"Test defects","matchedStatuses":[]}],"history":{"statistic":{"failed":0,"broken":18,"skipped":0,"passed":136,"unknown":1,"total":155},"items":[{"uid":"b0bb911cc94dfc25","reportUrl":"../4304//#testresult/b0bb911cc94dfc25","status":"broken","statusDetails":"psycopg2.errors.InsufficientPrivilege: permission denied to create database","time":{"start":1753321072203,"stop":1753321072665,"duration":462}},{"uid":"e03ad12dd1e9d4bf","reportUrl":"../4301//#testresult/e03ad12dd1e9d4bf","status":"broken","statusDetails":"psycopg2.errors.InsufficientPrivilege: permission denied to create database","time":{"start":1753234997346,"stop":1753234997838,"duration":492}},{"uid":"12b3bc7c940c0bb5","reportUrl":"../4297//#testresult/12b3bc7c940c0bb5","status":"broken","statusDetails":"psycopg2.errors.InsufficientPrivilege: permission denied to create database","time":{"start":1753149540462,"stop":1753149540937,"duration":475}},{"uid":"dd71599879455281","reportUrl":"../4289//#testresult/dd71599879455281","status":"broken","statusDetails":"psycopg2.errors.InsufficientPrivilege: permission denied to create database","time":{"start":1753061923442,"stop":1753061923929,"duration":487}},{"uid":"be71a4e4200e3f14","reportUrl":"../4288//#testresult/be71a4e4200e3f14","status":"broken","statusDetails":"psycopg2.errors.InsufficientPrivilege: permission denied to create database","time":{"start":1752975496363,"stop":1752975496864,"duration":501}},{"uid":"13d613b257ff176a","reportUrl":"../4285//#testresult/13d613b257ff176a","status":"broken","statusDetails":"psycopg2.errors.InsufficientPrivilege: permission denied to create database","time":{"start":1752889064909,"stop":1752889065384,"duration":475}},{"uid":"288876e3d933d074","reportUrl":"../4283//#testresult/288876e3d933d074","status":"broken","statusDetails":"psycopg2.errors.InsufficientPrivilege: permission denied to create database","time":{"start":1752802682041,"stop":1752802682530,"duration":489}},{"uid":"a09dd4c089d8f391","reportUrl":"../4282//#testresult/a09dd4c089d8f391","status":"broken","statusDetails":"psycopg2.errors.InsufficientPrivilege: permission denied to create database","time":{"start":1752716414714,"stop":1752716415199,"duration":485}},{"uid":"f8430600c32070a0","reportUrl":"../4274//#testresult/f8430600c32070a0","status":"broken","statusDetails":"psycopg2.errors.InsufficientPrivilege: permission denied to create database","time":{"start":1752629958530,"stop":1752629959200,"duration":670}},{"uid":"7d794185ea7f3d0f","reportUrl":"../4262//#testresult/7d794185ea7f3d0f","status":"broken","statusDetails":"psycopg2.errors.InsufficientPrivilege: permission denied to create database","time":{"start":1752543555663,"stop":1752543556160,"duration":497}},{"uid":"2dfa082c7efd3c1e","reportUrl":"../4259//#testresult/2dfa082c7efd3c1e","status":"broken","statusDetails":"psycopg2.errors.InsufficientPrivilege: permission denied to create database","time":{"start":1752457107384,"stop":1752457107856,"duration":472}},{"uid":"181c37b2131f6851","reportUrl":"../4258//#testresult/181c37b2131f6851","status":"broken","statusDetails":"psycopg2.errors.InsufficientPrivilege: permission denied to create database","time":{"start":1752370744402,"stop":1752370744901,"duration":499}},{"uid":"61187768ac996cf","reportUrl":"../4257//#testresult/61187768ac996cf","status":"broken","statusDetails":"psycopg2.errors.InsufficientPrivilege: permission denied to create database","time":{"start":1752284367632,"stop":1752284368118,"duration":486}},{"uid":"fff9d8a9e0612299","reportUrl":"../4255//#testresult/fff9d8a9e0612299","status":"broken","statusDetails":"psycopg2.errors.InsufficientPrivilege: permission denied to create database","time":{"start":1752197896862,"stop":1752197897353,"duration":491}},{"uid":"bdb6e7607c99f5ab","reportUrl":"../4254//#testresult/bdb6e7607c99f5ab","status":"broken","statusDetails":"psycopg2.errors.InsufficientPrivilege: permission denied to create database","time":{"start":1752111547746,"stop":1752111548241,"duration":495}},{"uid":"466b4c7298c84b71","reportUrl":"../4250//#testresult/466b4c7298c84b71","status":"broken","statusDetails":"psycopg2.errors.InsufficientPrivilege: permission denied to create database","time":{"start":1752025132731,"stop":1752025133237,"duration":506}},{"uid":"efea687fd06926ed","reportUrl":"../4244//#testresult/efea687fd06926ed","status":"broken","statusDetails":"psycopg2.errors.InsufficientPrivilege: permission denied to create database","time":{"start":1751938706787,"stop":1751938707257,"duration":470}},{"uid":"6666f706bf21a3ee","reportUrl":"../4241//#testresult/6666f706bf21a3ee","status":"passed","time":{"start":1751852262061,"stop":1751852263165,"duration":1104}},{"uid":"ded36ebc728d0a78","reportUrl":"../4240//#testresult/ded36ebc728d0a78","status":"passed","time":{"start":1751765851790,"stop":1751765852334,"duration":544}},{"uid":"837e6f6accb0a5f2","reportUrl":"../4239//#testresult/837e6f6accb0a5f2","status":"passed","time":{"start":1751679469282,"stop":1751679469870,"duration":588}}]},"tags":["asyncio"]},"source":"75d44146737adf23.json","parameterValues":[]}