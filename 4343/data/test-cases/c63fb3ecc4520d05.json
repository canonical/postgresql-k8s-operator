{"uid":"c63fb3ecc4520d05","name":"test_redeploy_charm_same_model_after_forcing_removal","fullName":"tests.integration.test_charm#test_redeploy_charm_same_model_after_forcing_removal","historyId":"ca9aac0977186ec16e8b66c76fd09de6","time":{"start":1754013917667,"stop":1754014311527,"duration":393860},"description":"Redeploy the charm in the same model to test that it works after a forceful removal.","descriptionHtml":"<p>Redeploy the charm in the same model to test that it works after a forceful removal.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"charm","time":{"start":1754011923939,"stop":1754011923939,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1754011923939,"stop":1754011923939,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1754011923939,"stop":1754011924243,"duration":304},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1754011923939,"stop":1754011923939,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1754013917667,"stop":1754013917667,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Redeploy the charm in the same model to test that it works after a forceful removal.","status":"passed","steps":[],"attachments":[{"uid":"c99f5e0cf1e1b021","name":"log","source":"c99f5e0cf1e1b021.txt","type":"text/plain","size":3262}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1754014311528,"stop":1754014311528,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1754014442494,"stop":1754014443168,"duration":674},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1754014443170,"stop":1754014443170,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1754014443170,"stop":1754014443170,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1754014443170,"stop":1754014443170,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"asyncio"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm"},{"name":"host","value":"pkrvmjbmru5nbw0"},{"name":"thread","value":"20325-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"5f865464709558eb","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":4,"broken":56,"skipped":2,"passed":348,"unknown":5,"total":415},"items":[{"uid":"a06e1f268a4d4324","reportUrl":"../4339//#testresult/a06e1f268a4d4324","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  postgresql-k8s/0 [allocating] waiting: installing agent\n  postgresql-k8s/1 [allocating] waiting: installing agent\n  postgresql-k8s/2 [allocating] waiting: installing agent","time":{"start":1753927550502,"stop":1753928559190,"duration":1008688}},{"uid":"cc78170a6e0cf18a","reportUrl":"../4333//#testresult/cc78170a6e0cf18a","status":"passed","time":{"start":1753841052847,"stop":1753841349791,"duration":296944}},{"uid":"10d588d4c92c9c21","reportUrl":"../4318//#testresult/10d588d4c92c9c21","status":"passed","time":{"start":1753755164568,"stop":1753755476775,"duration":312207}},{"uid":"8735c55fda5afc98","reportUrl":"../4309//#testresult/8735c55fda5afc98","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  postgresql-k8s/0 [allocating] waiting: installing agent\n  postgresql-k8s/1 [allocating] waiting: installing agent\n  postgresql-k8s/2 [allocating] waiting: installing agent","time":{"start":1753668375072,"stop":1753669383685,"duration":1008613}},{"uid":"9eb43f834185200e","reportUrl":"../4308//#testresult/9eb43f834185200e","status":"failed","statusDetails":"AssertionError: assert {'Endpoints/p...l-k8s-config'} == {'Endpoints/p...-config', ...}\n  \n  Extra items in the right set:\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mService/postgresql-k8s-replicas\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mEndpoints/postgresql-k8s-primary\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mEndpoints/postgresql-k8s-replicas\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33mService/postgresql-k8s-primary\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \n  Full diff:\n  \u001B[0m\u001B[90m \u001B[39;49;00m {\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     'Endpoints/patroni-postgresql-k8s',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     'Endpoints/patroni-postgresql-k8s-config',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     'Endpoints/patroni-postgresql-k8s-sync',\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Endpoints/postgresql-k8s-primary',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Endpoints/postgresql-k8s-replicas',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     'Service/patroni-postgresql-k8s-config',\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Service/postgresql-k8s-primary',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[91m-     'Service/postgresql-k8s-replicas',\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m }\u001B[90m\u001B[39;49;00m","time":{"start":1753581972397,"stop":1753581974168,"duration":1771}},{"uid":"966f601182c6b14c","reportUrl":"../4307//#testresult/966f601182c6b14c","status":"passed","time":{"start":1753495520144,"stop":1753495872858,"duration":352714}},{"uid":"cc4cac49999f52e1","reportUrl":"../4306//#testresult/cc4cac49999f52e1","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  postgresql-k8s/0 [allocating] waiting: installing agent\n  postgresql-k8s/1 [allocating] waiting: installing agent\n  postgresql-k8s/2 [allocating] waiting: installing agent","time":{"start":1753409063117,"stop":1753410072426,"duration":1009309}},{"uid":"af4a591ebeb9aed4","reportUrl":"../4304//#testresult/af4a591ebeb9aed4","status":"passed","time":{"start":1753322668168,"stop":1753323007466,"duration":339298}},{"uid":"fc33d2f7d64e3c0e","reportUrl":"../4301//#testresult/fc33d2f7d64e3c0e","status":"passed","time":{"start":1753236565730,"stop":1753236907635,"duration":341905}},{"uid":"5aa173139e5568c4","reportUrl":"../4297//#testresult/5aa173139e5568c4","status":"passed","time":{"start":1753150577303,"stop":1753150926953,"duration":349650}},{"uid":"40764da07a59907e","reportUrl":"../4289//#testresult/40764da07a59907e","status":"passed","time":{"start":1753063495930,"stop":1753063838269,"duration":342339}},{"uid":"d7b94a1da68dcefc","reportUrl":"../4288//#testresult/d7b94a1da68dcefc","status":"passed","time":{"start":1752977178157,"stop":1752977503830,"duration":325673}},{"uid":"bf19b9a1f0fb2ff5","reportUrl":"../4285//#testresult/bf19b9a1f0fb2ff5","status":"passed","time":{"start":1752890705915,"stop":1752891018400,"duration":312485}},{"uid":"8c43c453194b957d","reportUrl":"../4283//#testresult/8c43c453194b957d","status":"passed","time":{"start":1752804303987,"stop":1752804637029,"duration":333042}},{"uid":"d202f9959c5b8221","reportUrl":"../4282//#testresult/d202f9959c5b8221","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  postgresql-k8s/0 [allocating] waiting: installing agent\n  postgresql-k8s/1 [allocating] waiting: installing agent\n  postgresql-k8s/2 [allocating] waiting: installing agent","time":{"start":1752718147164,"stop":1752719155526,"duration":1008362}},{"uid":"c4ce3ab5430cbcd0","reportUrl":"../4274//#testresult/c4ce3ab5430cbcd0","status":"passed","time":{"start":1752631508415,"stop":1752631884179,"duration":375764}},{"uid":"bdbb466e10c74421","reportUrl":"../4262//#testresult/bdbb466e10c74421","status":"passed","time":{"start":1752545319055,"stop":1752545684718,"duration":365663}},{"uid":"251a8c82142dc4ef","reportUrl":"../4259//#testresult/251a8c82142dc4ef","status":"passed","time":{"start":1752458771145,"stop":1752459138337,"duration":367192}},{"uid":"8f28047f9c100871","reportUrl":"../4258//#testresult/8f28047f9c100871","status":"passed","time":{"start":1752372363186,"stop":1752372716845,"duration":353659}},{"uid":"7ead8e3ccd3cf8c1","reportUrl":"../4257//#testresult/7ead8e3ccd3cf8c1","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  postgresql-k8s/0 [allocating] waiting: installing agent\n  postgresql-k8s/1 [allocating] waiting: installing agent\n  postgresql-k8s/2 [allocating] waiting: installing agent","time":{"start":1752285858931,"stop":1752286869051,"duration":1010120}}]},"tags":["asyncio"]},"source":"c63fb3ecc4520d05.json","parameterValues":[]}