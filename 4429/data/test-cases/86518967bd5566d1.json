{"uid":"86518967bd5566d1","name":"test_interruption_db_process[SIGKILL-/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing_1#test_interruption_db_process","historyId":"6ac1f088d42ef4f77044c32d987fbe5f","time":{"start":1755740966442,"stop":1755741068075,"duration":101633},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1755739830020,"stop":1755739830021,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1755739830021,"stop":1755739830021,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1755739830021,"stop":1755739830276,"duration":255},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1755740251507,"stop":1755740257689,"duration":6182},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1755740875373,"stop":1755740875373,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1755740875373,"stop":1755740875374,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"restart_policy","time":{"start":1755740875374,"stop":1755740966442,"duration":91068},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"7e8a575bf5a68a43","name":"log","source":"7e8a575bf5a68a43.txt","type":"text/plain","size":3329}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1755741068076,"stop":1755741069094,"duration":1018},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"restart_policy::finalizer","time":{"start":1755741068076,"stop":1755741068076,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1755741069095,"stop":1755741069095,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1755742438791,"stop":1755742499642,"duration":60851},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f0e025e92e0 state=finished raised AttributeError>]\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/root/spread_project/tests/integration/ha_tests/conftest.py\", line 70, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/root/spread_project/tests/integration/ha_tests/helpers.py\", line 123, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 445, in __iter__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 378, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 421, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1755742499643,"stop":1755742499994,"duration":351},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1755742499995,"stop":1755742499995,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1755742499995,"stop":1755742499995,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1755742499995,"stop":1755742499996,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing_1"},{"name":"host","value":"pkrvmqc4gcfdwos"},{"name":"thread","value":"19746-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing_1"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/usr/bin/patroni'"},{"name":"signal","value":"'SIGKILL'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"9e544ddf50794ed3","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":11,"broken":0,"skipped":30,"passed":139,"unknown":2,"total":182},"items":[{"uid":"bbe0fe799aec9b54","reportUrl":"../4423//#testresult/bbe0fe799aec9b54","status":"passed","time":{"start":1755654632744,"stop":1755654737476,"duration":104732}},{"uid":"3f1bed4779cf9bc5","reportUrl":"../4406//#testresult/3f1bed4779cf9bc5","status":"passed","time":{"start":1755568299114,"stop":1755568400852,"duration":101738}},{"uid":"dfcd9579372a794a","reportUrl":"../4403//#testresult/dfcd9579372a794a","status":"passed","time":{"start":1755481785605,"stop":1755481887293,"duration":101688}},{"uid":"7ccc57312561d593","reportUrl":"../4402//#testresult/7ccc57312561d593","status":"passed","time":{"start":1755395444233,"stop":1755395567336,"duration":123103}},{"uid":"6cd5a6ac69f20c48","reportUrl":"../4401//#testresult/6cd5a6ac69f20c48","status":"passed","time":{"start":1755308925486,"stop":1755309024139,"duration":98653}},{"uid":"4e50713ff3fcfbc2","reportUrl":"../4398//#testresult/4e50713ff3fcfbc2","status":"passed","time":{"start":1755222626573,"stop":1755222723271,"duration":96698}},{"uid":"1b492da162c1d219","reportUrl":"../4395//#testresult/1b492da162c1d219","status":"passed","time":{"start":1755136139412,"stop":1755136264466,"duration":125054}},{"uid":"e170ad687e392f73","reportUrl":"../4391//#testresult/e170ad687e392f73","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1755049450624,"stop":1755049450624,"duration":0}},{"uid":"cb41e48f3ab5562a","reportUrl":"../4378//#testresult/cb41e48f3ab5562a","status":"passed","time":{"start":1754963721812,"stop":1754963823449,"duration":101637}},{"uid":"6561546e0a31a57f","reportUrl":"../4373//#testresult/6561546e0a31a57f","status":"failed","statusDetails":"AssertionError: testing.postgresql-k8s-1: writes to the db were missed.","time":{"start":1754877006495,"stop":1754877105107,"duration":98612}},{"uid":"67b5fe8044ad9672","reportUrl":"../4372//#testresult/67b5fe8044ad9672","status":"passed","time":{"start":1754790634118,"stop":1754790748857,"duration":114739}},{"uid":"3021c56cc5191d64","reportUrl":"../4371//#testresult/3021c56cc5191d64","status":"passed","time":{"start":1754704202394,"stop":1754704303189,"duration":100795}},{"uid":"c5e72be6940f6b79","reportUrl":"../4369//#testresult/c5e72be6940f6b79","status":"passed","time":{"start":1754617720361,"stop":1754617823236,"duration":102875}},{"uid":"c55e00703945599f","reportUrl":"../4366//#testresult/c55e00703945599f","status":"passed","time":{"start":1754531331592,"stop":1754531448418,"duration":116826}},{"uid":"3c32b172dda22d47","reportUrl":"../4363//#testresult/3c32b172dda22d47","status":"passed","time":{"start":1754445215217,"stop":1754445319066,"duration":103849}},{"uid":"6caaeb40198a2812","reportUrl":"../4353//#testresult/6caaeb40198a2812","status":"passed","time":{"start":1754358743140,"stop":1754358874127,"duration":130987}},{"uid":"394a3e1c8243bce2","reportUrl":"../4351//#testresult/394a3e1c8243bce2","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1754271979129,"stop":1754271979129,"duration":0}},{"uid":"c862ebfc5e13d58e","reportUrl":"../4350//#testresult/c862ebfc5e13d58e","status":"passed","time":{"start":1754185831935,"stop":1754185936862,"duration":104927}},{"uid":"fbb57d831b157ba9","reportUrl":"../4346//#testresult/fbb57d831b157ba9","status":"passed","time":{"start":1754099351732,"stop":1754099452630,"duration":100898}},{"uid":"1474d4c62cb7fd8c","reportUrl":"../4343//#testresult/1474d4c62cb7fd8c","status":"passed","time":{"start":1754013054305,"stop":1754013155997,"duration":101692}}]},"tags":["asyncio","abort_on_fail"]},"source":"86518967bd5566d1.json","parameterValues":["'/usr/bin/patroni'","'SIGKILL'"]}