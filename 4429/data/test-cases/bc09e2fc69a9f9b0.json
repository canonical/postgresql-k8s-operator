{"uid":"bc09e2fc69a9f9b0","name":"test_interruption_db_process[SIGTERM-/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing_1#test_interruption_db_process","historyId":"5d8766c464476ba5c75bc354cfeeef3d","time":{"start":1755740578046,"stop":1755740701128,"duration":123082},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1755739830020,"stop":1755739830021,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1755739830021,"stop":1755739830021,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1755739830021,"stop":1755739830276,"duration":255},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1755740251507,"stop":1755740257689,"duration":6182},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1755740485613,"stop":1755740485613,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"restart_policy","time":{"start":1755740485613,"stop":1755740578046,"duration":92433},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1755740485613,"stop":1755740485613,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"b22029638fe17c81","name":"log","source":"b22029638fe17c81.txt","type":"text/plain","size":3153}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"restart_policy::finalizer","time":{"start":1755740701128,"stop":1755740701129,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes::finalizer","time":{"start":1755740701129,"stop":1755740702149,"duration":1020},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1755740702150,"stop":1755740702150,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1755742438791,"stop":1755742499642,"duration":60851},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f0e025e92e0 state=finished raised AttributeError>]\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/root/spread_project/tests/integration/ha_tests/conftest.py\", line 70, in primary_start_timeout\n    await change_patroni_setting(\n  File \"/root/spread_project/tests/integration/ha_tests/helpers.py\", line 123, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 445, in __iter__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 378, in iter\n    result = action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/tenacity/__init__.py\", line 421, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1755742499643,"stop":1755742499994,"duration":351},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1755742499995,"stop":1755742499995,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1755742499995,"stop":1755742499995,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1755742499995,"stop":1755742499996,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing_1"},{"name":"host","value":"pkrvmqc4gcfdwos"},{"name":"thread","value":"19746-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing_1"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/usr/bin/patroni'"},{"name":"signal","value":"'SIGTERM'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"b5c91b747b826d8b","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":4,"broken":0,"skipped":26,"passed":150,"unknown":2,"total":182},"items":[{"uid":"c7f3a6b186306f7a","reportUrl":"../4423//#testresult/c7f3a6b186306f7a","status":"passed","time":{"start":1755654248888,"stop":1755654364720,"duration":115832}},{"uid":"ad69357d13ac1781","reportUrl":"../4406//#testresult/ad69357d13ac1781","status":"passed","time":{"start":1755567892222,"stop":1755568028362,"duration":136140}},{"uid":"b6507e06b0c1bd80","reportUrl":"../4403//#testresult/b6507e06b0c1bd80","status":"passed","time":{"start":1755481383821,"stop":1755481477443,"duration":93622}},{"uid":"45739b307b3fdafb","reportUrl":"../4402//#testresult/45739b307b3fdafb","status":"passed","time":{"start":1755395042062,"stop":1755395135696,"duration":93634}},{"uid":"bef8235f26b2a4ea","reportUrl":"../4401//#testresult/bef8235f26b2a4ea","status":"passed","time":{"start":1755308532834,"stop":1755308655743,"duration":122909}},{"uid":"46eebfc2a2afc86e","reportUrl":"../4398//#testresult/46eebfc2a2afc86e","status":"passed","time":{"start":1755222243821,"stop":1755222359765,"duration":115944}},{"uid":"529134b3a7d33545","reportUrl":"../4395//#testresult/529134b3a7d33545","status":"passed","time":{"start":1755135743518,"stop":1755135834414,"duration":90896}},{"uid":"7f55eb8041dd2b79","reportUrl":"../4391//#testresult/7f55eb8041dd2b79","status":"failed","statusDetails":"AssertionError: testing.postgresql-k8s-0: writes to the db were missed.","time":{"start":1755049353992,"stop":1755049448559,"duration":94567}},{"uid":"ed96afa189e8ef51","reportUrl":"../4378//#testresult/ed96afa189e8ef51","status":"passed","time":{"start":1754963329856,"stop":1754963452899,"duration":123043}},{"uid":"ce18e9c9e37f13a9","reportUrl":"../4373//#testresult/ce18e9c9e37f13a9","status":"passed","time":{"start":1754876603276,"stop":1754876698964,"duration":95688}},{"uid":"627abd3e7ef9836c","reportUrl":"../4372//#testresult/627abd3e7ef9836c","status":"passed","time":{"start":1754790231402,"stop":1754790329036,"duration":97634}},{"uid":"f4712f51fb854c92","reportUrl":"../4371//#testresult/f4712f51fb854c92","status":"passed","time":{"start":1754703810025,"stop":1754703931870,"duration":121845}},{"uid":"5059abd2e7feebce","reportUrl":"../4369//#testresult/5059abd2e7feebce","status":"passed","time":{"start":1754617317466,"stop":1754617412279,"duration":94813}},{"uid":"870c9ff8ad862b95","reportUrl":"../4366//#testresult/870c9ff8ad862b95","status":"passed","time":{"start":1754530945311,"stop":1754531040025,"duration":94714}},{"uid":"1ab7313a5a853d2c","reportUrl":"../4363//#testresult/1ab7313a5a853d2c","status":"passed","time":{"start":1754444824591,"stop":1754444947621,"duration":123030}},{"uid":"c0628c9f4c4e968c","reportUrl":"../4353//#testresult/c0628c9f4c4e968c","status":"passed","time":{"start":1754358345139,"stop":1754358439872,"duration":94733}},{"uid":"621a917679d74580","reportUrl":"../4351//#testresult/621a917679d74580","status":"failed","statusDetails":"AssertionError: testing.postgresql-k8s-0: writes to the db were missed.","time":{"start":1754271869252,"stop":1754271978077,"duration":108825}},{"uid":"9df1a7f0a2b63583","reportUrl":"../4350//#testresult/9df1a7f0a2b63583","status":"passed","time":{"start":1754185439554,"stop":1754185563449,"duration":123895}},{"uid":"bfff3c4f74c0bba7","reportUrl":"../4346//#testresult/bfff3c4f74c0bba7","status":"passed","time":{"start":1754098961518,"stop":1754099084496,"duration":122978}},{"uid":"76d78585a9f76efb","reportUrl":"../4343//#testresult/76d78585a9f76efb","status":"passed","time":{"start":1754012641958,"stop":1754012785285,"duration":143327}}]},"tags":["asyncio","abort_on_fail"]},"source":"bc09e2fc69a9f9b0.json","parameterValues":["'/usr/bin/patroni'","'SIGTERM'"]}