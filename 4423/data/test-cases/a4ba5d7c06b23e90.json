{"uid":"a4ba5d7c06b23e90","name":"test_async_replication_failover_in_main_cluster","fullName":"tests.integration.ha_tests.test_async_replication#test_async_replication_failover_in_main_cluster","historyId":"0d36e96afab568171b86ef8e12ac0c4f","time":{"start":1755654952407,"stop":1755655062186,"duration":109779},"description":"Test that async replication fails over correctly.","descriptionHtml":"<p>Test that async replication fails over correctly.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1755653444485,"stop":1755653444485,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1755653444485,"stop":1755653444485,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1755653444485,"stop":1755653444729,"duration":244},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1755653444730,"stop":1755653444730,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1755653444730,"stop":1755653445421,"duration":691},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1755654952407,"stop":1755654952407,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1755654952407,"stop":1755654952407,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test that async replication fails over correctly.","status":"passed","steps":[],"attachments":[{"uid":"bd241a04c04fe149","name":"log","source":"bd241a04c04fe149.txt","type":"text/plain","size":4913}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1755655062187,"stop":1755655063205,"duration":1018},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1755655063205,"stop":1755655063206,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::finalizer","time":{"start":1755655973036,"stop":1755655973050,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1755655973050,"stop":1755655975624,"duration":2574},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1755655975625,"stop":1755655975625,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1755655975625,"stop":1755655975625,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1755655975625,"stop":1755655975625,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_async_replication"},{"name":"host","value":"pkrvmubgrv54qmi"},{"name":"thread","value":"19535-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_async_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"5a08b86b8a8e8aa0","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":34,"broken":0,"skipped":8,"passed":377,"unknown":9,"total":428},"items":[{"uid":"9c4b0af8632429f6","reportUrl":"../4406//#testresult/9c4b0af8632429f6","status":"passed","time":{"start":1755568694275,"stop":1755568813751,"duration":119476}},{"uid":"925fa708a504ed38","reportUrl":"../4403//#testresult/925fa708a504ed38","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-k8s-2' != 'postgresql-k8s-2'","time":{"start":1755482214670,"stop":1755482403190,"duration":188520}},{"uid":"3c8286b00b303785","reportUrl":"../4402//#testresult/3c8286b00b303785","status":"failed","statusDetails":"AssertionError: testing-other.postgresql-k8s-1: writes to the db were missed.","time":{"start":1755395881748,"stop":1755395995197,"duration":113449}},{"uid":"3a7c8ab606b2c529","reportUrl":"../4401//#testresult/3a7c8ab606b2c529","status":"passed","time":{"start":1755309595067,"stop":1755309714095,"duration":119028}},{"uid":"b5a5fa307f0a393a","reportUrl":"../4398//#testresult/b5a5fa307f0a393a","status":"passed","time":{"start":1755223148637,"stop":1755223267856,"duration":119219}},{"uid":"e7e9692e3788160c","reportUrl":"../4395//#testresult/e7e9692e3788160c","status":"passed","time":{"start":1755136542337,"stop":1755136658699,"duration":116362}},{"uid":"a5f5a83ba2753616","reportUrl":"../4391//#testresult/a5f5a83ba2753616","status":"passed","time":{"start":1755050298293,"stop":1755050406064,"duration":107771}},{"uid":"a0d1934a9af267e2","reportUrl":"../4378//#testresult/a0d1934a9af267e2","status":"unknown","time":{}},{"uid":"96587f5703a71ded","reportUrl":"../4373//#testresult/96587f5703a71ded","status":"passed","time":{"start":1754877474963,"stop":1754877580158,"duration":105195}},{"uid":"410accd14a98bf71","reportUrl":"../4372//#testresult/410accd14a98bf71","status":"passed","time":{"start":1754791033458,"stop":1754791158896,"duration":125438}},{"uid":"3aa9db95b599855b","reportUrl":"../4371//#testresult/3aa9db95b599855b","status":"passed","time":{"start":1754704614027,"stop":1754704736104,"duration":122077}},{"uid":"408a23b2e068d1c9","reportUrl":"../4369//#testresult/408a23b2e068d1c9","status":"passed","time":{"start":1754618373138,"stop":1754618491926,"duration":118788}},{"uid":"fd4b9f8b1edf2cca","reportUrl":"../4366//#testresult/fd4b9f8b1edf2cca","status":"passed","time":{"start":1754531978853,"stop":1754532128695,"duration":149842}},{"uid":"3e2230f6aac688ac","reportUrl":"../4363//#testresult/3e2230f6aac688ac","status":"passed","time":{"start":1754445605668,"stop":1754445719555,"duration":113887}},{"uid":"927925a868699952","reportUrl":"../4353//#testresult/927925a868699952","status":"passed","time":{"start":1754359156829,"stop":1754359271691,"duration":114862}},{"uid":"6e4cf578e8b41f09","reportUrl":"../4351//#testresult/6e4cf578e8b41f09","status":"passed","time":{"start":1754273038585,"stop":1754273140459,"duration":101874}},{"uid":"d39dc43d596020ad","reportUrl":"../4350//#testresult/d39dc43d596020ad","status":"passed","time":{"start":1754186359839,"stop":1754186509539,"duration":149700}},{"uid":"af7ecd9904f9c066","reportUrl":"../4346//#testresult/af7ecd9904f9c066","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-k8s-1' != 'postgresql-k8s-1'","time":{"start":1754099844683,"stop":1754099935904,"duration":91221}},{"uid":"882b74692c8ff601","reportUrl":"../4343//#testresult/882b74692c8ff601","status":"passed","time":{"start":1754013389811,"stop":1754013516196,"duration":126385}},{"uid":"1bd69cbf2ab0843c","reportUrl":"../4339//#testresult/1bd69cbf2ab0843c","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-k8s-2' != 'postgresql-k8s-2'","time":{"start":1753927107885,"stop":1753927222053,"duration":114168}}]},"tags":["asyncio","abort_on_fail"]},"source":"a4ba5d7c06b23e90.json","parameterValues":[]}