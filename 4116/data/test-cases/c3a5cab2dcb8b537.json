{"uid":"c3a5cab2dcb8b537","name":"test_async_replication_failover_in_main_cluster","fullName":"tests.integration.ha_tests.test_async_replication#test_async_replication_failover_in_main_cluster","historyId":"0d36e96afab568171b86ef8e12ac0c4f","time":{"start":1749434082729,"stop":1749434221064,"duration":138335},"description":"Test that async replication fails over correctly.","descriptionHtml":"<p>Test that async replication fails over correctly.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1749432643847,"stop":1749432643847,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1749432643847,"stop":1749432643848,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1749432643848,"stop":1749432644068,"duration":220},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1749432644069,"stop":1749432644069,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1749432644069,"stop":1749432644729,"duration":660},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1749434082729,"stop":1749434082729,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1749434082729,"stop":1749434082729,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test that async replication fails over correctly.","status":"passed","steps":[],"attachments":[{"uid":"c55976547d1557d1","name":"log","source":"c55976547d1557d1.txt","type":"text/plain","size":5086}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1749434221064,"stop":1749434222083,"duration":1019},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1749434222083,"stop":1749434222083,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::finalizer","time":{"start":1749434927209,"stop":1749434927226,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1749434927227,"stop":1749434928362,"duration":1135},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1749434928367,"stop":1749434928367,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1749434928367,"stop":1749434928367,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1749434928367,"stop":1749434928367,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires juju 3')"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_async_replication"},{"name":"host","value":"fv-az2251-801"},{"name":"thread","value":"19495-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_async_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"def470f8ea4b338d","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":11,"broken":0,"skipped":7,"passed":331,"unknown":7,"total":356},"items":[{"uid":"df5e7434d029c8d7","reportUrl":"../4114//#testresult/df5e7434d029c8d7","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-k8s-1' != 'postgresql-k8s-1'","time":{"start":1749347715059,"stop":1749347832508,"duration":117449}},{"uid":"972b4c3743df93a8","reportUrl":"../4113//#testresult/972b4c3743df93a8","status":"passed","time":{"start":1749261273524,"stop":1749261396084,"duration":122560}},{"uid":"cc70cbb8930690fc","reportUrl":"../4109//#testresult/cc70cbb8930690fc","status":"passed","time":{"start":1749174813476,"stop":1749174947056,"duration":133580}},{"uid":"7647306725211578","reportUrl":"../4097//#testresult/7647306725211578","status":"passed","time":{"start":1749088564432,"stop":1749088674360,"duration":109928}},{"uid":"7a16fd17f3365822","reportUrl":"../4096//#testresult/7a16fd17f3365822","status":"failed","statusDetails":"AssertionError: testing.postgresql-k8s-2: writes to the db were missed.","time":{"start":1749002116506,"stop":1749002243475,"duration":126969}},{"uid":"4b69d946799a67c8","reportUrl":"../4089//#testresult/4b69d946799a67c8","status":"passed","time":{"start":1748915625428,"stop":1748915758443,"duration":133015}},{"uid":"e3062f143487769f","reportUrl":"../4088//#testresult/e3062f143487769f","status":"passed","time":{"start":1748829335274,"stop":1748829479749,"duration":144475}},{"uid":"f644561e471c2194","reportUrl":"../4084//#testresult/f644561e471c2194","status":"passed","time":{"start":1748742843848,"stop":1748742994599,"duration":150751}},{"uid":"2381b329d905c692","reportUrl":"../4083//#testresult/2381b329d905c692","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-k8s-1' != 'postgresql-k8s-1'","time":{"start":1748656479681,"stop":1748656588808,"duration":109127}},{"uid":"e176fad55924fd79","reportUrl":"../4080//#testresult/e176fad55924fd79","status":"passed","time":{"start":1748570073406,"stop":1748570183474,"duration":110068}},{"uid":"ed7d48c7662624d8","reportUrl":"../4078//#testresult/ed7d48c7662624d8","status":"passed","time":{"start":1748397227342,"stop":1748397338916,"duration":111574}},{"uid":"f750745288782153","reportUrl":"../4070//#testresult/f750745288782153","status":"passed","time":{"start":1748224429706,"stop":1748224542950,"duration":113244}},{"uid":"eb1e7a3b4be98225","reportUrl":"../4068//#testresult/eb1e7a3b4be98225","status":"passed","time":{"start":1748051651713,"stop":1748051782314,"duration":130601}},{"uid":"340d0a3c6148e62d","reportUrl":"../4067//#testresult/340d0a3c6148e62d","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-k8s-0' != 'postgresql-k8s-0'","time":{"start":1747965219655,"stop":1747965382037,"duration":162382}},{"uid":"314b309de90170e2","reportUrl":"../4066//#testresult/314b309de90170e2","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-k8s-2' != 'postgresql-k8s-2'","time":{"start":1747878844378,"stop":1747878944240,"duration":99862}},{"uid":"faa5ac5121a6e3b4","reportUrl":"../4065//#testresult/faa5ac5121a6e3b4","status":"passed","time":{"start":1747793009983,"stop":1747793136902,"duration":126919}},{"uid":"f35c9e74ac50ad97","reportUrl":"../4058//#testresult/f35c9e74ac50ad97","status":"passed","time":{"start":1747706108959,"stop":1747706261408,"duration":152449}},{"uid":"3d5690a3d15f41bc","reportUrl":"../4057//#testresult/3d5690a3d15f41bc","status":"passed","time":{"start":1747619510780,"stop":1747619633780,"duration":123000}},{"uid":"aac7472f014b84b","reportUrl":"../4056//#testresult/aac7472f014b84b","status":"passed","time":{"start":1747533248752,"stop":1747533379609,"duration":130857}},{"uid":"68d4003d44af851","reportUrl":"../4055//#testresult/68d4003d44af851","status":"passed","time":{"start":1747446828161,"stop":1747446956514,"duration":128353}}]},"tags":["asyncio","abort_on_fail","@pytest.mark.skipif(False, reason='Requires juju 3')"]},"source":"c3a5cab2dcb8b537.json","parameterValues":[]}