[32mINFO    [0m pytest_operator.plugin:plugin.py:708 Connecting to existing model microk8s-localhost:test on unspecified cloud
[32mINFO    [0m juju.model:model.py:2098 Deploying ch:amd64/focal/redis-k8s-7
[32mINFO    [0m juju.model:model.py:2098 Deploying local:jammy/postgresql-k8s-0
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-k8s/0 [allocating] waiting: installing agent
  postgresql-k8s/1 [allocating] waiting: installing agent
  postgresql-k8s/2 [allocating] waiting: installing agent
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-k8s/0 [executing] maintenance: installing charm software
  postgresql-k8s/1 [executing] maintenance: installing charm software
  postgresql-k8s/2 [executing] maintenance: installing charm software
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-k8s/0 [executing] waiting: awaiting for cluster to start
  postgresql-k8s/1 [executing] unknown: 
  postgresql-k8s/2 [executing] unknown: 
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-k8s/0 [executing] waiting: awaiting for primary endpoint to be ready
  postgresql-k8s/1 [idle] unknown: 
  postgresql-k8s/2 [idle] unknown: 
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-k8s/0 [idle] active: Primary
  postgresql-k8s/1 [executing] unknown: 
  postgresql-k8s/2 [executing] unknown: 
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-k8s/0 [idle] active: Primary
  postgresql-k8s/1 [executing] unknown: 
  postgresql-k8s/2 [executing] unknown: 
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-k8s/0 [idle] active: Primary
  postgresql-k8s/1 [executing] waiting: awaiting for cluster to start
  postgresql-k8s/2 [executing] waiting: awaiting for cluster to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-k8s/0 [idle] active: Primary
  postgresql-k8s/1 [idle] waiting: awaiting for member to start
  postgresql-k8s/2 [idle] waiting: awaiting for cluster to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-k8s/0 [idle] active: Primary
  postgresql-k8s/1 [idle] active: 
  postgresql-k8s/2 [idle] waiting: awaiting for cluster to start
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-k8s/0 [idle] active: Primary
  postgresql-k8s/1 [executing] active: 
  postgresql-k8s/2 [idle] active: 
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-k8s/0 [idle] active: Primary
  postgresql-k8s/1 [idle] active: 
  postgresql-k8s/2 [idle] active: 
  redis-k8s/0 [idle] active: 
[32mINFO    [0m juju.model:model.py:2098 Deploying ch:amd64/focal/discourse-charmers-discourse-k8s-28
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  discourse-charmers-discourse-k8s/0 [allocating] waiting: installing agent
[33mWARNING [0m juju.model:model.py:1564 relate is deprecated and will be removed. Use integrate instead.
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-k8s/0 [idle] active: Primary
  postgresql-k8s/1 [idle] active: 
  postgresql-k8s/2 [idle] active: 
  discourse-charmers-discourse-k8s/0 [idle] blocked: db relation is required
  redis-k8s/0 [idle] active: 
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-k8s/0 [idle] active: Primary
  postgresql-k8s/1 [idle] active: 
  postgresql-k8s/2 [idle] active: 
  discourse-charmers-discourse-k8s/0 [idle] active: 
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  discourse-charmers-discourse-k8s/0 [idle] active: 
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  discourse-charmers-discourse-k8s/0 [idle] active: 
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  discourse-charmers-discourse-k8s/0 [idle] active: 
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  discourse-charmers-discourse-k8s/0 [idle] active: 
[32mINFO    [0m juju.model:model.py:2958 Waiting for model:
  postgresql-k8s/0 [idle] active: Primary
  postgresql-k8s/1 [idle] active: 
  postgresql-k8s/2 [idle] active:
[32mINFO    [0m pytest_operator.plugin:plugin.py:834 Model status:

Model  Controller          Cloud/Region        Version  SLA          Timestamp
test   microk8s-localhost  microk8s/localhost  3.1.7    unsupported  01:40:56Z

App             Version               Status  Scale  Charm           Channel        Rev  Address        Exposed  Message
postgresql-k8s  14.11                 active      3  postgresql-k8s                   0  10.152.183.97  no       Primary
redis-k8s       ubuntu/redis@691f315  active      1  redis-k8s       latest/stable    7                 no       

Unit               Workload  Agent  Address     Ports     Message
postgresql-k8s/0*  active    idle   10.1.63.12            Primary
postgresql-k8s/1   active    idle   10.1.63.13            
postgresql-k8s/2   active    idle   10.1.63.14            
redis-k8s/0*       active    idle   10.1.63.16  6379/TCP  

[32mINFO    [0m pytest_operator.plugin:plugin.py:840 Juju error logs:

controller-0: 01:40:54 ERROR juju.worker.caasunitprovisioner stopping application worker for discourse-charmers-discourse-k8s: Operation cannot be fulfilled on deployments.apps "discourse-charmers-discourse-k8s": the object has been modified; please apply your changes to the latest version and try again

[32mINFO    [0m pytest_operator.plugin:plugin.py:904 Forgetting main...